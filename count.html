<!DOCTYPE html>
<html>

<head>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114881459-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-114881459-1');
    </script>

    <link rel="apple-touch-icon" sizes="57x57" href="icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="icons/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <title>Compteur</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta name="robots" content="all" />
    <meta name="MSSmartTagsPreventParsing" content="true" />
    <meta http-equiv="imagetoolbar" content="false" />

    <script src="jquery-3.3.1.min.js"></script>
    <script src="bootstrap.min.js"></script>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="style2.css">
</head>

<body id="page" style="background-color: #2ecc71;">

    <p id="timeRemaining"></p>
    <p style="font-size: 25px;">avant la fin de l'année</p>


    <div style="text-align: center; font-size: 20px; margin-top: 0px; margin: 0.5em;">

    <button class="dropdown-toggle plus" id="plus" data-toggle="collapse" data-target="#demo"> Détails </button>

        <div id="demo" class="collapse">
        </div>
    </div>

    <div style="display: flex; justify-content: center; margin: 1em; font-size: 2em">
        Rattrapages?
        <br/>
    </div>
    <!-- Rounded switch -->
    <div id="check">
        <label class="switch">
            <input type="checkbox" id="check_rat" onchange="update(this);">
            <span class="slider round"></span>
        </label>
    </div>
    <div style="display: flex; justify-content: center; margin: 1em; font-size: 2em">
        Redoublement?
        <br/>
    </div>
    <!-- Rounded switch -->
    <div id="check">
        <label class="switch">
            <input type="checkbox" id="check_red" onchange="update(this);">
            <span class="slider round"></span>
        </label>
    </div>
    <p id="dur" style="margin: 1em"></p>



    <style>
    /* customizable snowflake styling */
    .snowflake {
      color: #fff;
      font-size: 1em;
      font-family: mononoki-Regular;
      text-shadow: 0 0 1px #000;
    }

    @-webkit-keyframes snowflakes-fall{0%{top:-10%}100%{top:100%}}@-webkit-keyframes snowflakes-shake{0%{-webkit-transform:translateX(0px);transform:translateX(0px)}50%{-webkit-transform:translateX(80px);transform:translateX(80px)}100%{-webkit-transform:translateX(0px);transform:translateX(0px)}}@keyframes snowflakes-fall{0%{top:-10%}100%{top:100%}}@keyframes snowflakes-shake{0%{transform:translateX(0px)}50%{transform:translateX(80px)}100%{transform:translateX(0px)}}.snowflake{position:fixed;top:-10%;z-index:9999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;-webkit-animation-name:snowflakes-fall,snowflakes-shake;-webkit-animation-duration:10s,3s;-webkit-animation-timing-function:linear,ease-in-out;-webkit-animation-iteration-count:infinite,infinite;-webkit-animation-play-state:running,running;animation-name:snowflakes-fall,snowflakes-shake;animation-duration:10s,3s;animation-timing-function:linear,ease-in-out;animation-iteration-count:infinite,infinite;animation-play-state:running,running}.snowflake:nth-of-type(0){left:1%;-webkit-animation-delay:0s,0s;animation-delay:0s,0s}.snowflake:nth-of-type(1){left:10%;-webkit-animation-delay:1s,1s;animation-delay:1s,1s}.snowflake:nth-of-type(2){left:20%;-webkit-animation-delay:6s,.5s;animation-delay:6s,.5s}.snowflake:nth-of-type(3){left:30%;-webkit-animation-delay:4s,2s;animation-delay:4s,2s}.snowflake:nth-of-type(4){left:40%;-webkit-animation-delay:2s,2s;animation-delay:2s,2s}.snowflake:nth-of-type(5){left:50%;-webkit-animation-delay:8s,3s;animation-delay:8s,3s}.snowflake:nth-of-type(6){left:60%;-webkit-animation-delay:6s,2s;animation-delay:6s,2s}.snowflake:nth-of-type(7){left:70%;-webkit-animation-delay:2.5s,1s;animation-delay:2.5s,1s}.snowflake:nth-of-type(8){left:80%;-webkit-animation-delay:1s,0s;animation-delay:1s,0s}.snowflake:nth-of-type(9){left:90%;-webkit-animation-delay:3s,1.5s;animation-delay:3s,1.5s}
    </style>

<div id="neige" style="visibility: hidden;">
    <div class="snowflakes" aria-hidden="true">
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
        <div class="snowflake">
            RIP
        </div>
    </div>
</div>



    <script>
        var hoursRemaining = 0;

        function floatToHour(num) {
          var min = 1 / 60;
          var intpart = Math.floor(num);
          var decpart = num - intpart;
          decpart = min * Math.round(decpart / min);
          var minutes = Math.floor(decpart * 60);
          // return sign + intpart + 'h' + pad(minutes, 2);
          if (minutes == 0) {
            return intpart + ' h ';
          }
          else {
            return intpart + ' h ' + minutes;
          }
        }
        function logResults(json){
            dividedHours = json["dividedHours"]

            form = dividedHours["Form. Culturelle"]
            info = dividedHours["Informatique"]
            fran = dividedHours["Français"]
            angl = dividedHours["Anglais"]
            tipe = dividedHours["TIPE"]
            siCo = dividedHours["SI - Cours"]
            siTd = dividedHours["SI - TD"]
            siTp = dividedHours["SI - TP"]
            mathCo = dividedHours["Mathématiques - Cours"]
            mathTd = dividedHours["Mathématiques - TD"]
            physCo = dividedHours["Physique - Cours"]
            physTd = dividedHours["Physique - TD"]
            physTp = dividedHours["Physique - TP"]
            autres = dividedHours["Autres"]
            total = floatToHour(form + info + fran + angl + tipe + siCo + siTd + siTp + mathCo + mathTd + physCo + physTd + physTp + autres)

            form = floatToHour(dividedHours["Form. Culturelle"])
            info = floatToHour(dividedHours["Informatique"])
            fran = floatToHour(dividedHours["Français"])
            angl = floatToHour(dividedHours["Anglais"])
            tipe = floatToHour(dividedHours["TIPE"])
            siCo = floatToHour(dividedHours["SI - Cours"])
            siTd = floatToHour(dividedHours["SI - TD"])
            siTp = floatToHour(dividedHours["SI - TP"])
            mathCo = floatToHour(dividedHours["Mathématiques - Cours"])
            mathTd = floatToHour(dividedHours["Mathématiques - TD"])
            physCo = floatToHour(dividedHours["Physique - Cours"])
            physTd = floatToHour(dividedHours["Physique - TD"])
            physTp = floatToHour(dividedHours["Physique - TP"])

            var tableau = "<table class=\"table table-sm\"> <thead> <tr> <th scope=col>Matière <th scope=col class=text-center>Nombre d'heures restantes <tbody> <tr> <th scope=row>Physique - Cours <td>" + physCo + " <tr> <th scope=row>Physique - TD <td>" + physTd + " <tr> <th scope=row>Physique - TP <td>" + physTp + " <tr> <th scope=row>Mathématiques - Cours <td>" + mathCo + " <tr> <th scope=row>Mathématiques - TD <td>" + mathTd + " <tr> <th scope=row>SI - Cours <td>" + siCo + " <tr> <th scope=row>SI - TD <td>" + siTd + " <tr> <th scope=row>SI - TP <td>" + siTp + " <tr> <th scope=row>Informatique <td>" + info + " <tr> <th scope=row>Anglais <td>" + angl + " <tr> <th scope=row>Français <td>" + fran + " <tr> <th scope=row>TIPE <td>" + tipe + " <tr> <th scope=row>Form. Culturelle <td>" + form + " <tr style=\"font-size: 30px\"> <th scope=row>Total <td>" + total + "</table>"

            $("#demo").html(tableau)
        }

        $.ajax({
          url: "https://omnitrogen.pythonanywhere.com/getHours",
          dataType: "jsonp",
          jsonpCallback: "logResults"
        });

    </script>

    <script>
    // Set the date we're counting down to
    var countDownDate = new Date("Jun 6, 2018 20:00:00").getTime();

    function update(feature) {
        if (document.getElementById("check_rat").checked == false && document.getElementById("check_red").checked == false) {
            countDownDate = new Date("Jun 6, 2018 20:00:00").getTime();
            document.getElementById("page").style.backgroundColor = "#2ecc71"
            document.getElementById("dur").innerHTML = ""
            document.getElementById("neige").style.visibility = "hidden"
            $("#demo").html("<table class=\"table table-sm\"> <thead> <tr> <th scope=col>Matière <th scope=col class=text-center>Nombre d'heures restantes <tbody> <tr> <th scope=row>Physique - Cours <td>" + physCo + " <tr> <th scope=row>Physique - TD <td>" + physTd + " <tr> <th scope=row>Physique - TP <td>" + physTp + " <tr> <th scope=row>Mathématiques - Cours <td>" + mathCo + " <tr> <th scope=row>Mathématiques - TD <td>" + mathTd + " <tr> <th scope=row>SI - Cours <td>" + siCo + " <tr> <th scope=row>SI - TD <td>" + siTd + " <tr> <th scope=row>SI - TP <td>" + siTp + " <tr> <th scope=row>Informatique <td>" + info + " <tr> <th scope=row>Anglais <td>" + angl + " <tr> <th scope=row>Français <td>" + fran + " <tr> <th scope=row>TIPE <td>" + tipe + " <tr> <th scope=row>Form. Culturelle <td>" + form + " <tr style=\"font-size: 30px\"> <th scope=row>Total <td>" + total + "</table>")
        }
        if (document.getElementById("check_rat").checked == true && document.getElementById("check_red").checked == false) {
            countDownDate = new Date("Jun 30, 2018 20:00:00").getTime();
            document.getElementById("page").style.backgroundColor = "orange"
            document.getElementById("dur").innerHTML = ""
            document.getElementById("neige").style.visibility = "hidden"
            $("#demo").html("<table class=\"table table-sm\"> <thead> <tr> <th scope=col>Matière <th scope=col class=text-center>Nombre d'heures restantes <tbody> <tr> <th scope=row>Physique - Cours <td>" + physCo + " <tr> <th scope=row>Physique - TD <td>" + physTd + " <tr> <th scope=row>Physique - TP <td>" + physTp + " <tr> <th scope=row>Mathématiques - Cours <td>" + mathCo + " <tr> <th scope=row>Mathématiques - TD <td>" + mathTd + " <tr> <th scope=row>SI - Cours <td>" + siCo + " <tr> <th scope=row>SI - TD <td>" + siTd + " <tr> <th scope=row>SI - TP <td>" + siTp + " <tr> <th scope=row>Informatique <td>" + info + " <tr> <th scope=row>Anglais <td>" + angl + " <tr> <th scope=row>Français <td>" + fran + " <tr> <th scope=row>TIPE <td>" + tipe + " <tr> <th scope=row>Form. Culturelle <td>" + form + " <tr style=\"font-size: 30px\"> <th scope=row>Total <td>" + total + "</table>")

        }
        if (document.getElementById("check_rat").checked == false && document.getElementById("check_red").checked == true) {
            countDownDate = new Date("Jun 6, 2019 20:00:00").getTime();
            document.getElementById("page").style.backgroundColor = "grey"
            document.getElementById("dur").innerHTML = ""
            document.getElementById("neige").style.visibility = "hidden"
            $("#demo").html("<table class=\"table table-sm\"> <thead> <tr> <th scope=col>Matière <th scope=col class=text-center>Nombre d'heures restantes <tbody> <tr> <th scope=row>Physique - Cours <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + " <tr> <th scope=row>Physique - TD <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + " <tr> <th scope=row>Physique - TP <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + " <tr> <th scope=row>Mathématiques - Cours <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + " <tr> <th scope=row>Mathématiques - TD <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + " <tr> <th scope=row>SI - Cours <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + " <tr> <th scope=row>SI - TD <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + " <tr> <th scope=row>SI - TP <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + " <tr> <th scope=row>Informatique <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + " <tr> <th scope=row>Anglais <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + " <tr> <th scope=row>Français <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + " <tr> <th scope=row>TIPE <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + " <tr> <th scope=row>Form. Culturelle <td>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<i class=\"fa fa-question\"></i>" + "<tr style=\"font-size: 30px\"> <th scope=row>Total <td>" + "404" + "</table>")
        }
        if (document.getElementById("check_rat").checked == true && document.getElementById("check_red").checked == true) {
            countDownDate = new Date("Jun 30, 2019 20:00:00").getTime();
            document.getElementById("page").style.backgroundColor = "#c0392b"
            document.getElementById("dur").innerHTML = "R.I.P."
            document.getElementById("neige").style.visibility = "visible"
            $("#demo").html("<table class=\"table table-sm\"> <thead> <tr> <th scope=col>Matière <th scope=col class=text-center>Nombre d'heures restantes <tbody> <tr> <th scope=row>Physique - Cours <td>" + "beaucoup" + " <tr> <th scope=row>Physique - TD <td>" + "beaucoup" + " <tr> <th scope=row>Physique - TP <td>" + "beaucoup" + " <tr> <th scope=row>Mathématiques - Cours <td>" + "beaucoup" + " <tr> <th scope=row>Mathématiques - TD <td>" + "beaucoup" + " <tr> <th scope=row>SI - Cours <td>" + "beaucoup" + " <tr> <th scope=row>SI - TD <td>" + "beaucoup" + " <tr> <th scope=row>SI - TP <td>" + "beaucoup" + " <tr> <th scope=row>Informatique <td>" + "beaucoup" + " <tr> <th scope=row>Anglais <td>" + "beaucoup" + " <tr> <th scope=row>Français <td>" + "beaucoup" + " <tr> <th scope=row>TIPE <td>" + "beaucoup" + " <tr> <th scope=row>Form. Culturelle <td>" + "beaucoup" + " <tr style=\"font-size: 30px\"> <th scope=row>Total <td>" + "beaucoup trop" + "</table>")
        }
    }

    // Update the count down every second
    var x = setInterval(function() {

        // Get todays date and time
        var now = new Date().getTime();

        // Find the distance between now an the count down date
        var distance = countDownDate - now;

        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Output the result in an element with id="timeRemaining"
        $("#timeRemaining").html(days + "j " + hours + "h " +
            minutes + "m " + seconds + "s");

        // If the count down is over, write some text
        if (distance < 0) {
            clearInterval(x);
            $("#timeRemaining").hmtl("LET THE FUN BEGIN! FiNaLlY :o :o :o ");
        }
    }, 100);
    </script>
    </body>
</html>